<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X バズ投稿生成AI | X公式アルゴリズム準拠</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <div class="logo">
                <svg viewBox="0 0 24 24" class="logo-icon">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
                <h1>バズ投稿生成AI</h1>
            </div>
            <div class="subtitle">X公式アルゴリズム（2026年版）完全準拠 — Gemini 2.5 Flash</div>
        </div>
    </header>

    <div class="layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Account Input -->
            <section class="card">
                <h2 class="section-title">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                    参考アカウント
                </h2>
                <div class="input-group">
                    <label for="accounts">バズツイートを収集するXアカウント（1行1アカウント）</label>
                    <textarea id="accounts" rows="5" placeholder="elonmusk&#10;shaborinununu&#10;maboroshi_ch"></textarea>
                </div>
            </section>

            <!-- Settings -->
            <section class="card">
                <h2 class="section-title">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" /></svg>
                    処理設定
                </h2>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label for="tweets-to-analyze">分析数</label>
                        <input type="number" id="tweets-to-analyze" value="5" min="1" max="100">
                    </div>
                    <div class="setting-item">
                        <label for="tweets-to-rewrite">リライト数</label>
                        <input type="number" id="tweets-to-rewrite" value="5" min="1" max="50">
                    </div>
                    <div class="setting-item">
                        <label for="min-likes">最小いいね</label>
                        <input type="number" id="min-likes" value="50" min="0" step="10">
                    </div>
                    <div class="setting-item">
                        <label for="min-retweets">最小RT</label>
                        <input type="number" id="min-retweets" value="0" min="0" step="10">
                    </div>
                </div>
            </section>

            <!-- Generate Button -->
            <button id="generate-btn" class="btn-primary">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                バズ投稿を生成
            </button>

            <!-- Cost / Summary Panel -->
            <section id="summary-panel" class="card summary-panel" style="display:none;">
                <h2 class="section-title">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg>
                    実行サマリー
                </h2>
                <div class="summary-stats">
                    <div class="stat"><span class="stat-label">収集</span><span id="stat-collected" class="stat-value">-</span></div>
                    <div class="stat"><span class="stat-label">フィルタ通過</span><span id="stat-filtered" class="stat-value">-</span></div>
                    <div class="stat"><span class="stat-label">分析</span><span id="stat-analyzed" class="stat-value">-</span></div>
                    <div class="stat"><span class="stat-label">リライト</span><span id="stat-rewritten" class="stat-value">-</span></div>
                </div>
                <div class="cost-display">
                    <div class="cost-row">
                        <span>X API: ユーザー検索×<span id="cost-x-lookups">0</span> + ツイート読取×<span id="cost-x-reads">0</span> = <strong id="cost-x-usd">$0</strong></span>
                    </div>
                    <div class="cost-row">
                        <span>Gemini: 分析×<span id="cost-analysis-calls">0</span> + リライト×<span id="cost-rewrite-calls">0</span> = <strong id="cost-gemini-usd">$0</strong></span>
                    </div>
                    <div class="cost-total">
                        <span>合計コスト</span>
                        <span><strong id="cost-jpy">¥0</strong> <small id="cost-usd">($0.00)</small></span>
                    </div>
                </div>
            </section>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Status -->
            <section id="status-section" class="status-section card" style="display:none;">
                <div class="status-content">
                    <div class="spinner"></div>
                    <p id="status-text">処理中...</p>
                </div>
            </section>

            <!-- Results -->
            <section id="results-section" class="results-section" style="display:none;">
                <div class="results-header">
                    <h2 class="section-title">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        生成結果
                    </h2>
                    <span id="results-count" class="results-count"></span>
                </div>
                <div id="results-container"></div>
            </section>

            <!-- Empty State -->
            <section id="empty-state" class="empty-state">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="empty-icon"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                <h3>左のパネルからアカウントを設定して生成を開始</h3>
                <p>Xのバズツイートを分析し、アルゴリズム最適化されたリライトを生成します</p>
            </section>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
